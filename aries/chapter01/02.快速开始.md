# 02. 快速开始

本指南将帮助您在 5 分钟内启动并运行旅游服务系统。

## 🚀 一键启动（推荐）

### 前置要求

- Node.js 18+
- npm 或 yarn 或 pnpm

### 快速启动步骤

1. **克隆项目**
   ```bash
   git clone <your-repo-url>
   cd kiro-travel
   ```

2. **一键初始化**
   ```bash
   npm run setup
   ```
   这个命令会自动：
   - 安装所有依赖
   - 创建数据库文件
   - 初始化数据表
   - 插入示例数据

3. **启动开发服务器**
   ```bash
   npm run dev
   ```

4. **访问应用**

   打开浏览器访问 [http://localhost:3000](http://localhost:3000)

### 登录系统

使用默认管理员账户登录：
- 邮箱：admin@example.com
- 密码：123456

## 📋 手动启动步骤

如果您需要手动控制每个步骤：

### 1. 安装依赖

```bash
npm install
# 或
yarn install
# 或
pnpm install
```

### 2. 环境配置

创建 `.env.local` 文件（可选）：

```env
# JWT 密钥（生产环境中请使用更安全的密钥）
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# 数据库路径（可选，默认为 ./data/travel.db）
# DB_PATH=./data/travel.db
```

### 3. 初始化数据库

```bash
npm run db:init
```

这个命令会：
- 创建 `data` 目录
- 创建 SQLite 数据库文件 `data/travel.db`
- 执行 SQL 脚本创建所有数据表
- 插入示例数据

### 4. 启动项目

```bash
npm run dev
```

## ✅ 验证安装

安装成功后，您应该能够：

1. 访问主页并看到景点列表
2. 使用管理员账户登录
3. 浏览不同的功能模块

## 🔧 可用命令

| 命令 | 说明 |
|------|------|
| `npm run setup` | 一键初始化整个项目 |
| `npm run dev` | 启动开发服务器 |
| `npm run build` | 构建生产版本 |
| `npm run start` | 启动生产服务器 |
| `npm run lint` | 代码检查 |
| `npm run db:init` | 初始化数据库 |
| `npm run db:reset` | 重置数据库 |

## 🗄️ 数据库管理

### 查看数据库

数据库文件位置：`data/travel.db`

您可以使用 SQLite 客户端工具查看：
- DB Browser for SQLite（GUI）
- sqlite3 命令行工具
- VS Code SQLite 扩展

### 重置数据库

如果需要重新初始化数据库：
```bash
npm run db:reset
```
这会删除当前数据库并重新创建。

## 🚨 常见问题

### 问题：数据库初始化失败

**解决方案**：
1. 确保 Node.js 版本 >= 18
2. 删除 `node_modules` 后重新运行 `npm install`
3. 检查是否有写入权限

### 问题：端口 3000 被占用

**解决方案**：
1. 停止其他占用端口的程序
2. 或使用其他端口：
   ```bash
   npm run dev -- -p 3001
   ```

### 问题：依赖安装失败

**解决方案**：
1. 清理 npm 缓存：
   ```bash
   npm cache clean --force
   ```
2. 删除 `node_modules` 和 `package-lock.json`
3. 重新运行 `npm install`

### 问题：Windows 上运行失败

**解决方案**：
1. 安装 Windows Build Tools：
   ```bash
   npm install -g windows-build-tools
   ```
2. 使用管理员权限运行命令提示符

## 📚 下一步

成功启动项目后，您可以：

1. 阅读 [03.数据库设计.md](03.数据库设计.md) 了解数据库结构
2. 查看 [04.API接口文档.md](04.API接口文档.md) 了解 API 接口
3. 阅读 [07.前端开发指南.md](07.前端开发指南.md) 开始开发

## 🎯 功能测试

### 测试用户认证

1. 注册新用户：
   - 访问 `/auth/register`
   - 填写注册信息
   - 选择用户角色（普通用户或导游）

2. 登录测试：
   - 使用注册的账户登录
   - 验证功能是否正常

### 测试景点管理

1. 浏览景点：
   - 在首页查看景点列表
   - 使用搜索功能
   - 查看景点详情

2. 互动功能：
   - 点赞景点
   - 收藏景点
   - 发表评论

### 测试管理功能

使用管理员账户：
1. 创建新的景点分类
2. 添加新景点
3. 管理用户（如果已实现）

## 📞 获取帮助

如果遇到问题：

1. 查看本文档的 [常见问题](#🚨-常见问题) 部分
2. 查看控制台错误信息
3. 检查 GitHub Issues
4. 提交新的 Issue

---

**恭喜！您已经成功启动了旅游服务系统。** 🎉